<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard ‚Ä¢ Precioussly</title>
  <style>
    /* ====== Consistent Header + Announcement Bar ====== */
    html, body { margin:0; padding:0; }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    :root{
      --header-h: 68px;          /* header row height (logo+icons) */
      --announce-h: 34px;        /* black announcement bar height */
      --logo-h: 36px;            /* logo height */
      --icon-sz: 22px;           /* icon box size */
      --gap-x: 12px;
      --brand:#111;
      --muted:#667085;
      --bg:#ffffff;
      --ring: rgba(0,0,0,.06);
      --pill:#0ea5e9;
    }

    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; color:#222; background:var(--bg); }

    header.site-header{ position:sticky; top:0; z-index:1000; background:#fff; border-bottom:1px solid var(--ring); }
    .announcement-bar{
      background:#000; color:#fff; min-height:var(--announce-h);
      display:flex; align-items:center; justify-content:center;
      padding:0 12px; line-height:1; font-size:14px; letter-spacing:.2px; gap:12px;
      text-align:center;
    }
    .announcement-bar .dot{ opacity:.5; }

    .header-row{
      height:var(--header-h);
      display:flex; align-items:center; justify-content:space-between;
      padding:0 16px; gap:var(--gap-x);
    }
    .hamburger{ background:none; border:0; font-size:24px; line-height:1; padding:6px; }
    .logo{ display:flex; align-items:center; gap:8px; text-decoration:none; color:var(--brand); font-weight:600; font-size:22px; letter-spacing:.2px; }
    .logo .butterfly{ font-size:20px; }
    .logo img{ height:var(--logo-h); width:auto; display:block; }

    .header-icons{ display:flex; align-items:center; gap: var(--gap-x); }
    .header-icons .icon{
      width:var(--icon-sz); height:var(--icon-sz);
      display:grid; place-items:center; text-decoration:none; color:#111; position:relative;
    }
    .header-icons .icon svg, .header-icons .icon span{ width:100%; height:100%; display:block; }
    .cart-badge{
      position:absolute; right:-6px; top:-6px;
      min-width:18px; height:18px; padding:0 4px;
      display:grid; place-items:center;
      background:#16a34a; color:#fff; font-size:11px; border-radius:999px;
      transform: translate(40%,-40%);
    }

    /* ====== Page / Dashboard ====== */
    main, .page{ margin:0; padding:0; }
    .page > section:first-child,
    main > section:first-child,
    main > div:first-child{ margin-top:0 !important; padding-top:0 !important; }

    .dash-wrap{ max-width:780px; margin:24px auto; padding:0 16px; }
    .dash-card{
      background:#fff; border:1px solid var(--ring); border-radius:16px;
      padding:24px; display:flex; flex-direction:column; align-items:center; text-align:center;
      box-shadow:0 1px 2px rgba(0,0,0,.04);
    }
    .avatar{
      width:72px; height:72px; border-radius:999px; background:#0ea5e9;
      color:#fff; display:grid; place-items:center; font-size:36px; font-weight:600; margin-bottom:12px;
    }
    h1{ font-size:28px; margin:8px 0 4px; letter-spacing:.2px; }
    .sub{ color:var(--muted); margin:0 0 20px; }
    .btn{
      appearance:none; border:1px solid #111; background:#fff; color:#111;
      padding:10px 18px; border-radius:999px; font-weight:600; font-size:16px;
    }

    /* ====== Utility ====== */
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }
    a{ color:inherit; }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="announcement-bar">
      <span>Free Delivery</span>
      <span class="dot">|</span>
      <span>COD Available</span>
      <span class="dot">|</span>
      <span>Min Order ‚Çπ299</span>
    </div>

    <div class="header-row">
      <button class="hamburger" aria-label="Open menu">‚ò∞</button>

      <a class="logo" href="/">
        <span class="butterfly">ü¶ã</span>
        <span class="brand">Precioussly</span>
      </a>

      <div class="header-icons">
        <a class="icon search" href="/search" aria-label="Search">
          <span>üîç</span>
        </a>
        <a class="icon profile" href="/customer" aria-label="Profile">
          <span>g</span>
        </a>
        <a class="icon cart" href="/cart.html" aria-label="Cart">
          <span>üõí</span>
          <span class="cart-badge" id="cartBadge">0</span>
        </a>
      </div>
    </div>
  </header>

  <main class="page">
    <div class="dash-wrap">
      <section class="dash-card">
        <div class="avatar" id="avatarInitial">g</div>
        <h1 id="helloText">Hello, gifts.and.glory_</h1>
        <p class="sub" id="userEmail">ask.gifts.and.glory@gmail.com</p>
        <button class="btn" id="logoutBtn">Logout</button>
      </section>
    </div>
  </main>

  <script>
    /* ====== Cart badge from localStorage (non-destructive) ====== */
    (function syncCartBadge(){
      try{
        const badge = document.getElementById('cartBadge');
        const cartRaw = localStorage.getItem('cart');
        let count = 0;
        if(cartRaw){
          const cart = JSON.parse(cartRaw);
          if(Array.isArray(cart)) count = cart.reduce((a,i)=> a + (i.quantity?Number(i.quantity):1), 0);
          else if(typeof cart === 'object' && cart.items) count = cart.items.length;
        }
        badge.textContent = count;
        badge.style.display = count > 0 ? 'grid' : 'none';
      }catch(e){ /* silent */ }
    })();

    /* ====== Demo: If you store user in localStorage, reflect initials ====== */
    (function syncUser(){
      try{
        const user = JSON.parse(localStorage.getItem('user')||'null');
        if(!user) return;
        const name = user.name || user.username || '';
        const email = user.email || '';
        const initial = (name || email || '?').trim().charAt(0).toLowerCase() || 'g';

        const avatar = document.getElementById('avatarInitial');
        const hello = document.getElementById('helloText');
        const mail = document.getElementById('userEmail');

        avatar.textContent = initial;
        if(name) hello.textContent = "Hello, " + name;
        if(email) mail.textContent = email;
      }catch(e){ /* silent */ }
    })();

    // Optional: Logout just clears a demo key (adjust to your auth)
    document.getElementById('logoutBtn').addEventListener('click', function(){
      // TODO: Replace with your actual logout
      localStorage.removeItem('user');
      alert('Logged out (demo). Hook this to your real logout.');
    });
  </script>
</body>
</html>
